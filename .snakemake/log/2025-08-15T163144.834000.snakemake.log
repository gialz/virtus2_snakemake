Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cluster nodes: 8
Job stats:
job                     count
--------------------  -------
all                         1
bam_filter_polyx            1
bam_to_fastq_pe             1
extract_unmapped_bam        1
fastp_pe                    1
fastq_pair                  1
final_report                1
kz_filter_pe                1
samtools_coverage           1
star_human                  1
star_virus_pe               1
total                      11

Select jobs to execute...

[Fri Aug 15 16:31:47 2025]
rule fastp_pe:
    input: /SAN/vyplab/HuRNASeq/VIRAL_DETECTION_TEST/EBV/VIRTUS2/data/ERR3240355_1.fastq.gz, /SAN/vyplab/HuRNASeq/VIRAL_DETECTION_TEST/EBV/VIRTUS2/data/ERR3240355_2.fastq.gz
    output: results/qc/testing_fastp_1.fq.gz, results/qc/testing_fastp_2.fq.gz, results/qc/testing_fastp_fastp_report.html, results/qc/testing_fastp_fastp_report.json
    log: logs/testing_fastp_fastp.log
    jobid: 3
    reason: Missing output files: results/qc/testing_fastp_1.fq.gz, results/qc/testing_fastp_2.fq.gz
    wildcards: sample=testing_fastp
    threads: 8
    resources: mem_mb=1441, mem_mib=1375, disk_mb=1441, disk_mib=1375, tmpdir=<TBD>

[Fri Aug 15 16:34:07 2025]
Finished job 3.
1 of 11 steps (9%) done
Select jobs to execute...

[Fri Aug 15 16:34:07 2025]
rule star_human:
    input: results/qc/testing_fastp_1.fq.gz, results/qc/testing_fastp_2.fq.gz
    output: results/human/testing_fastp.Aligned.sortedByCoord.out.bam, results/human/testing_fastp.Log.final.out
    log: logs/testing_fastp_star_human.log
    jobid: 2
    reason: Missing output files: results/human/testing_fastp.Log.final.out, results/human/testing_fastp.Aligned.sortedByCoord.out.bam; Input files updated by another job: results/qc/testing_fastp_2.fq.gz, results/qc/testing_fastp_1.fq.gz
    wildcards: sample=testing_fastp
    threads: 4
    resources: mem_mb=1597, mem_mib=1524, disk_mb=1597, disk_mib=1524, tmpdir=<TBD>

[Fri Aug 15 16:42:37 2025]
Error in rule star_human:
    jobid: 2
    input: results/qc/testing_fastp_1.fq.gz, results/qc/testing_fastp_2.fq.gz
    output: results/human/testing_fastp.Aligned.sortedByCoord.out.bam, results/human/testing_fastp.Log.final.out
    log: logs/testing_fastp_star_human.log (check log file(s) for error details)
    shell:
        
            mkdir -p results/human
            STAR --runMode alignReads --genomeDir /SAN/vyplab/NYGC_ALSFTD/RIMOD_FTD/VIRTUS2/virtus_work/STAR_index_human/                  --readFilesIn results/qc/testing_fastp_1.fq.gz results/qc/testing_fastp_2.fq.gz                  --readFilesCommand zcat --runThreadN 4                  --outSAMtype BAM SortedByCoordinate --outSAMunmapped Within                  --outFileNamePrefix results/human/testing_fastp. 2> logs/testing_fastp_star_human.log
            
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Error executing rule star_human on cluster (jobid: 2, external: 58013, jobscript: /SAN/vyplab/first_weeks/github_test/.snakemake/tmp.5_3gw6ex/snakejob.star_human.2.sh). For error details see the cluster log and the log files of the involved rule(s).
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2025-08-15T163144.834000.snakemake.log
